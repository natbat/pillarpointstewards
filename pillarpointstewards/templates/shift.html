{% extends "base.html" %}
{% load static %}

{% block title %}Shift: {{ shift }}{% endblock %}

{% block content %}
<section class="page-title">
  <div class="title-wrapper stretch">
    <h1 class="text"><span>Shift for the {{ shift.shift_start|date:"jS" }} {{ shift.shift_start|date:"F" }} {{ shift.shift_start|date:"y" }}</span></h1>
    <div class="page-controls">
      {% if request.user.is_authenticated %}
        <a class="loginout" href="/logout/">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg> Logout</a>
      {% else %}
        <a class="loginout" href="/login/">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg> Login</a>
      {% endif %}
    </div>
  </div>
</section> <!-- end .page-title -->
<section class="content">
  <div class="primary">
    <h2 class="header1" title="{{ shift.shift_start.date }}">You are <!--not--> scheduled for the shift on {{ shift.shift_start|date:"jS" }} {{ shift.shift_start|date:"F" }} {{ shift.shift_start|date:"y" }}</h2>
    <div class="intro">
      <p><strong>Shift times:</strong> from {{ shift.shift_start|date:"g:iA"|lower }} to {{ shift.shift_end|date:"g:iA"|lower }}</p>
      <p><strong>Lowest tide:</strong> -1ft at 8am</p>
      <p><strong>Sunrise:</strong> 6am</p>
      <p><strong>Sunset:</strong> 7pm</p>
    </div><br>

    <h2>Volunteers on this shift</h2>

    <!-- If there is no-one-->
    <p>It looks like noone has signed up for this shift yet</p>
    <!--endif -->

    <!-- if there are volunteers assigned -->

    <ul class="people-list">
      <li><a href="#"><div class="pic"></div><p class="name">Deedee McGubbins</p><p class="context">Has volunteered on 5 shifts so far</p></a></li>
      <li><div class="pic"></div><p class="name">Amit Patel</p><p class="context">Has volunteered on 1 shift so far</p></li>
      <li><div class="pic"></div><p class="name">Zahara Emmith Williams</p><p class="context">Has not volunteered on any shifts yet</p></li>
      <li><div class="pic" style="background-image: url({% static "logo.png" %});"></div><p class="name">Your Name if assigned</p><p class="context">You are signed up to this shift</p></li>
    </ul>
    
    <!--endif -->

    <form action="#" method="POST">
      <button type="submit" class="button shift-assign"><!--Remove me from -->Add me to this shift</button>
    </form>

    {% if forecast %}
      <h2>Conditions</h2>
      {% for item in forecast.details.weather %}
        <img src="http://openweathermap.org/img/wn/{{ item.icon }}@2x.png" alt="{{ item.main }}">
        <p><strong>{{ item.main }}</strong> - {{ item.description }}</p>
      {% endfor %}
      <details>
        <summary>Details</summary>
        <pre style="font-family: courier">{{ forecast.details|pprint }}</pre>
      </details>
    {% endif %}
  </div>
  <div class="secondary pull-out">
    {{ contact_details|safe }}
</div> <!-- end .secondary -->
</section>
   {% endblock %}
