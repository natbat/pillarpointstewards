{% extends "base.html" %}
{% load static %}

{% block title %}Debug Tide Times Graphic: {{ date }}{% endblock %}

{% block content %}
<section class="page-title">
  <div class="title-wrapper stretch">
    <h1 class="text"><span>Debug Tide Times Graphic: {{ date }}</span></h1>
	</div>
</section>
<section class="content">
  <div class="primary">
<div class="day-alone">
  <div class="shift-view">
    <div class="day-view" style="
      background: linear-gradient(90deg,
			#176AB8 0%,
			#97bcdf {{ astral.dawn_pct }}%,
			#d1e1f1 {{ astral.sunrise_pct }}%,
			#FFFFFF {{ astral.noon_pct }}%,
			#d1e1f1 {{ astral.sunset_pct }}%,
			#97bcdf {{ astral.dusk_pct }}%,
			#176AB8 100%
      );
    ">
			{% if shift %}
				<div class="shift-window" style="left:{{ shift_start_pct }}%; width: {{ shift_width_pct }}%;">
					<span class="start-time">{{ shift.shift_start|date:"g:iA"|lower }}</span>
					<span class="end-time">{{ shift.shift_end|date:"g:iA"|lower }}</span>
				</div>
			{% endif %}
      <svg style="width: 100%; height: 60px; opacity: 0.5" viewBox="0 -2 240 104" preserveAspectRatio="none">
        <polyline fill="none" stroke="#176AB8" stroke-width="2" points="{{ svg_points }}"></polyline>
      </svg>
			{% if low_tide_time %}
				<span class="minima" style="left: {{ low_tide_time_pct }}%">
					<span class="time">{{ low_tide_time|date:"g:iA"|lower }}</span>
				</span>
			{% endif %}
    </div>
  </div>
</div>

  <svg style="width: 100%; height: 60px; opacity: 0.5" viewBox="0 -2 240 104" preserveAspectRatio="none">
    <polyline fill="none" stroke="#176AB8" stroke-width="2"
      points="{{ svg_points }}"
    />
  </svg>

<hr>

<div class="day-view wider" style="
background: linear-gradient(90deg,
  #176AB8 0%,
  #97bcdf {{ astral.dawn_pct }}%,
  #d1e1f1 {{ astral.sunrise_pct }}%,
  #FFFFFF {{ astral.noon_pct }}%,
  #d1e1f1 {{ astral.sunset_pct }}%,
  #97bcdf {{ astral.dusk_pct }}%,
  #176AB8 100%
);
">
<svg style="width: 100%; height: 60px; opacity: 0.5" viewBox="0 -2 240 104" preserveAspectRatio="none">
  <polyline fill="none" stroke="#176AB8" stroke-width="2"
    points="{{ svg_points }}"
  />
</svg>
<span class="minima" style="left: {{ low_tide_time_pct }}%">
  <span class="time">xx</span>
  <span class="depth">yyft</span>
</span>
</div>

  <pre>{{ svg_points|pprint }}</pre>
  <hr>
  <pre>{{ heights|pprint }}</pre>
  <hr>
  <pre>{{ predictions|pprint }}</pre>
  <hr>
</div></section>

	{% endblock %}
